{% extends "layout.html" %}
{% block content %}
    <div id="demo-contents"></div>
    <div id="base"></div>

    <script type="text/babel">
        document.addEventListener("DOMContentLoaded", function() {
            var _handleFileDrop = function(files, event) {
                console.log(files, event);
            };
            var styles = {border: "1px solid black", width: 600, color: "black", padding: 20};
            var myUploader = React.createElement(
                "div", {className: "my-uploader", style: styles},
                    "This is the \".my-uploader\" div. Try dragging a file!",
                    React.createElement(
                        ReactFileDrop, {onDrop: _handleFileDrop, frame: document, dropEffect: "copy"},
                            "Drop some files here!"
                    )
            );
            React.render(myUploader, document.getElementById("demo-contents"))
        });
        class Play extends React.Component {
            render() {
                return (
                    <button className="playButton" onClick={aud_play_pause}>
                        <i className="fa fa-play" aria-hidden="true" id="playPause"></i>
                    </button>
                );
            }
        }
        class Song extends React.Component {
            render(){
                return (
                    <audio type="audio/wav" autostart="false" id="music" src='static/music/Estelle_-_American_Boy_Feat_Kanye_West_Video.wav'>
                    </audio>
                );
            }
        }
        class WavePlayer extends React.Component {
            renderPlay(){
                return <Play />;
            }
            renderSong(){
                return <Song />;
            }
            render() {
                return (
                    <div className="wavePlayer">
                        {this.renderPlay()}
                        {this.renderSong()}
                    </div>
                );
            }
        }
        ReactDOM.render(
            <WavePlayer />,
            document.getElementById('base')
        )
        function aud_play_pause() {
            var mySound = document.getElementById("music");
            if (mySound.paused) {
                 $('#playPause').removeClass('fa fa-play');
                 $('#playPause').addClass('fa fa-pause');
                mySound.play();

            }
            else {
                $('#playPause').removeClass('fa fa-pause');
                $('#playPause').addClass('fa fa-play');
                mySound.pause();
            }
        }
    </script>
{% endblock %}